var THREEDebugRenderTarget=function(e,t){"use strict";var r,a={exports:{}},n={};function i(){return r||(r=1,function(e){var t="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var a=t.shift();if(a){if("object"!=typeof a)throw new TypeError(a+"must be non-object");for(var n in a)r(a,n)&&(e[n]=a[n])}}return e},e.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var a={arraySet:function(e,t,r,a,n){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+a),n);else for(var i=0;i<a;i++)e[n+i]=t[r+i]},flattenChunks:function(e){var t,r,a,n,i,s;for(a=0,t=0,r=e.length;t<r;t++)a+=e[t].length;for(s=new Uint8Array(a),n=0,t=0,r=e.length;t<r;t++)i=e[t],s.set(i,n),n+=i.length;return s}},n={arraySet:function(e,t,r,a,n){for(var i=0;i<a;i++)e[n+i]=t[r+i]},flattenChunks:function(e){return[].concat.apply([],e)}};e.setTyped=function(t){t?(e.Buf8=Uint8Array,e.Buf16=Uint16Array,e.Buf32=Int32Array,e.assign(e,a)):(e.Buf8=Array,e.Buf16=Array,e.Buf32=Array,e.assign(e,n))},e.setTyped(t)}(n)),n}var s,o,l,h,f,d,u,c,_={},g={},b={};function w(){if(s)return b;s=1;var e=i();function t(e){for(var t=e.length;--t>=0;)e[t]=0}var r=256,a=286,n=30,o=15,l=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],h=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],f=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],u=new Array(576);t(u);var c=new Array(60);t(c);var _=new Array(512);t(_);var g=new Array(256);t(g);var w=new Array(29);t(w);var v,p,m,k=new Array(n);function y(e,t,r,a,n){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=a,this.max_length=n,this.has_stree=e&&e.length}function x(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function z(e){return e<256?_[e]:_[256+(e>>>7)]}function A(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function S(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,A(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function E(e,t,r){S(e,r[2*t],r[2*t+1])}function B(e,t){var r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function U(e,t,r){var a,n,i=new Array(16),s=0;for(a=1;a<=o;a++)i[a]=s=s+r[a-1]<<1;for(n=0;n<=t;n++){var l=e[2*n+1];0!==l&&(e[2*n]=B(i[l]++,l))}}function R(e){var t;for(t=0;t<a;t++)e.dyn_ltree[2*t]=0;for(t=0;t<n;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function I(e){e.bi_valid>8?A(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function T(e,t,r,a){var n=2*t,i=2*r;return e[n]<e[i]||e[n]===e[i]&&a[t]<=a[r]}function Z(e,t,r){for(var a=e.heap[r],n=r<<1;n<=e.heap_len&&(n<e.heap_len&&T(t,e.heap[n+1],e.heap[n],e.depth)&&n++,!T(t,a,e.heap[n],e.depth));)e.heap[r]=e.heap[n],r=n,n<<=1;e.heap[r]=a}function N(e,t,a){var n,i,s,o,f=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*f]<<8|e.pending_buf[e.d_buf+2*f+1],i=e.pending_buf[e.l_buf+f],f++,0===n?E(e,i,t):(E(e,(s=g[i])+r+1,t),0!==(o=l[s])&&S(e,i-=w[s],o),E(e,s=z(--n),a),0!==(o=h[s])&&S(e,n-=k[s],o))}while(f<e.last_lit);E(e,256,t)}function D(e,t){var r,a,n,i=t.dyn_tree,s=t.stat_desc.static_tree,l=t.stat_desc.has_stree,h=t.stat_desc.elems,f=-1;for(e.heap_len=0,e.heap_max=573,r=0;r<h;r++)0!==i[2*r]?(e.heap[++e.heap_len]=f=r,e.depth[r]=0):i[2*r+1]=0;for(;e.heap_len<2;)i[2*(n=e.heap[++e.heap_len]=f<2?++f:0)]=1,e.depth[n]=0,e.opt_len--,l&&(e.static_len-=s[2*n+1]);for(t.max_code=f,r=e.heap_len>>1;r>=1;r--)Z(e,i,r);n=h;do{r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Z(e,i,1),a=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=a,i[2*n]=i[2*r]+i[2*a],e.depth[n]=(e.depth[r]>=e.depth[a]?e.depth[r]:e.depth[a])+1,i[2*r+1]=i[2*a+1]=n,e.heap[1]=n++,Z(e,i,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,a,n,i,s,l,h=t.dyn_tree,f=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,_=t.stat_desc.extra_base,g=t.stat_desc.max_length,b=0;for(i=0;i<=o;i++)e.bl_count[i]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<573;r++)(i=h[2*h[2*(a=e.heap[r])+1]+1]+1)>g&&(i=g,b++),h[2*a+1]=i,a>f||(e.bl_count[i]++,s=0,a>=_&&(s=c[a-_]),l=h[2*a],e.opt_len+=l*(i+s),u&&(e.static_len+=l*(d[2*a+1]+s)));if(0!==b){do{for(i=g-1;0===e.bl_count[i];)i--;e.bl_count[i]--,e.bl_count[i+1]+=2,e.bl_count[g]--,b-=2}while(b>0);for(i=g;0!==i;i--)for(a=e.bl_count[i];0!==a;)(n=e.heap[--r])>f||(h[2*n+1]!==i&&(e.opt_len+=(i-h[2*n+1])*h[2*n],h[2*n+1]=i),a--)}}(e,t),U(i,f,e.bl_count)}function C(e,t,r){var a,n,i=-1,s=t[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),t[2*(r+1)+1]=65535,a=0;a<=r;a++)n=s,s=t[2*(a+1)+1],++o<l&&n===s||(o<h?e.bl_tree[2*n]+=o:0!==n?(n!==i&&e.bl_tree[2*n]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,i=n,0===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4))}function M(e,t,r){var a,n,i=-1,s=t[1],o=0,l=7,h=4;for(0===s&&(l=138,h=3),a=0;a<=r;a++)if(n=s,s=t[2*(a+1)+1],!(++o<l&&n===s)){if(o<h)do{E(e,n,e.bl_tree)}while(0!=--o);else 0!==n?(n!==i&&(E(e,n,e.bl_tree),o--),E(e,16,e.bl_tree),S(e,o-3,2)):o<=10?(E(e,17,e.bl_tree),S(e,o-3,3)):(E(e,18,e.bl_tree),S(e,o-11,7));o=0,i=n,0===s?(l=138,h=3):n===s?(l=6,h=3):(l=7,h=4)}}t(k);var L=!1;function O(t,r,a,n){S(t,0+(n?1:0),3),function(t,r,a,n){I(t),n&&(A(t,a),A(t,~a)),e.arraySet(t.pending_buf,t.window,r,a,t.pending),t.pending+=a}(t,r,a,!0)}return b._tr_init=function(e){L||(!function(){var e,t,r,i,s,d=new Array(16);for(r=0,i=0;i<28;i++)for(w[i]=r,e=0;e<1<<l[i];e++)g[r++]=i;for(g[r-1]=i,s=0,i=0;i<16;i++)for(k[i]=s,e=0;e<1<<h[i];e++)_[s++]=i;for(s>>=7;i<n;i++)for(k[i]=s<<7,e=0;e<1<<h[i]-7;e++)_[256+s++]=i;for(t=0;t<=o;t++)d[t]=0;for(e=0;e<=143;)u[2*e+1]=8,e++,d[8]++;for(;e<=255;)u[2*e+1]=9,e++,d[9]++;for(;e<=279;)u[2*e+1]=7,e++,d[7]++;for(;e<=287;)u[2*e+1]=8,e++,d[8]++;for(U(u,287,d),e=0;e<n;e++)c[2*e+1]=5,c[2*e]=B(e,5);v=new y(u,l,257,a,o),p=new y(c,h,0,n,o),m=new y(new Array(0),f,0,19,7)}(),L=!0),e.l_desc=new x(e.dyn_ltree,v),e.d_desc=new x(e.dyn_dtree,p),e.bl_desc=new x(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,R(e)},b._tr_stored_block=O,b._tr_flush_block=function(e,t,a,n){var i,s,o=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,a=4093624447;for(t=0;t<=31;t++,a>>>=1)if(1&a&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<r;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),D(e,e.l_desc),D(e,e.d_desc),o=function(e){var t;for(C(e,e.dyn_ltree,e.l_desc.max_code),C(e,e.dyn_dtree,e.d_desc.max_code),D(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*d[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,(s=e.static_len+3+7>>>3)<=i&&(i=s)):i=s=a+5,a+4<=i&&-1!==t?O(e,t,a,n):4===e.strategy||s===i?(S(e,2+(n?1:0),3),N(e,u,c)):(S(e,4+(n?1:0),3),function(e,t,r,a){var n;for(S(e,t-257,5),S(e,r-1,5),S(e,a-4,4),n=0;n<a;n++)S(e,e.bl_tree[2*d[n]+1],3);M(e,e.dyn_ltree,t-1),M(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),N(e,e.dyn_ltree,e.dyn_dtree)),R(e),n&&I(e)},b._tr_tally=function(e,t,a){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&a,e.last_lit++,0===t?e.dyn_ltree[2*a]++:(e.matches++,t--,e.dyn_ltree[2*(g[a]+r+1)]++,e.dyn_dtree[2*z(t)]++),e.last_lit===e.lit_bufsize-1},b._tr_align=function(e){S(e,2,3),E(e,256,u),function(e){16===e.bi_valid?(A(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)},b}function v(){if(l)return o;return l=1,o=function(e,t,r,a){for(var n=65535&e|0,i=e>>>16&65535|0,s=0;0!==r;){r-=s=r>2e3?2e3:r;do{i=i+(n=n+t[a++]|0)|0}while(--s);n%=65521,i%=65521}return n|i<<16|0}}function p(){if(f)return h;f=1;var e=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var a=0;a<8;a++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();return h=function(t,r,a,n){var i=e,s=n+a;t^=-1;for(var o=n;o<s;o++)t=t>>>8^i[255&(t^r[o])];return-1^t}}function m(){return u?d:(u=1,d={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"})}function k(){if(c)return g;c=1;var e,t=i(),r=w(),a=v(),n=p(),s=m(),o=-2,l=258,h=262,f=103,d=113,u=666;function _(e,t){return e.msg=s[t],t}function b(e){return(e<<1)-(e>4?9:0)}function k(e){for(var t=e.length;--t>=0;)e[t]=0}function y(e){var r=e.state,a=r.pending;a>e.avail_out&&(a=e.avail_out),0!==a&&(t.arraySet(e.output,r.pending_buf,r.pending_out,a,e.next_out),e.next_out+=a,r.pending_out+=a,e.total_out+=a,e.avail_out-=a,r.pending-=a,0===r.pending&&(r.pending_out=0))}function x(e,t){r._tr_flush_block(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,y(e.strm)}function z(e,t){e.pending_buf[e.pending++]=t}function A(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function S(e,t){var r,a,n=e.max_chain_length,i=e.strstart,s=e.prev_length,o=e.nice_match,f=e.strstart>e.w_size-h?e.strstart-(e.w_size-h):0,d=e.window,u=e.w_mask,c=e.prev,_=e.strstart+l,g=d[i+s-1],b=d[i+s];e.prev_length>=e.good_match&&(n>>=2),o>e.lookahead&&(o=e.lookahead);do{if(d[(r=t)+s]===b&&d[r+s-1]===g&&d[r]===d[i]&&d[++r]===d[i+1]){i+=2,r++;do{}while(d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&d[++i]===d[++r]&&i<_);if(a=l-(_-i),i=_-l,a>s){if(e.match_start=t,s=a,a>=o)break;g=d[i+s-1],b=d[i+s]}}}while((t=c[t&u])>f&&0!=--n);return s<=e.lookahead?s:e.lookahead}function E(e){var r,i,s,o,l,f,d,u,c,_,g=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=g+(g-h)){t.arraySet(e.window,e.window,g,g,0),e.match_start-=g,e.strstart-=g,e.block_start-=g,r=i=e.hash_size;do{s=e.head[--r],e.head[r]=s>=g?s-g:0}while(--i);r=i=g;do{s=e.prev[--r],e.prev[r]=s>=g?s-g:0}while(--i);o+=g}if(0===e.strm.avail_in)break;if(f=e.strm,d=e.window,u=e.strstart+e.lookahead,c=o,_=void 0,(_=f.avail_in)>c&&(_=c),i=0===_?0:(f.avail_in-=_,t.arraySet(d,f.input,f.next_in,_,u),1===f.state.wrap?f.adler=a(f.adler,d,_,u):2===f.state.wrap&&(f.adler=n(f.adler,d,_,u)),f.next_in+=_,f.total_in+=_,_),e.lookahead+=i,e.lookahead+e.insert>=3)for(l=e.strstart-e.insert,e.ins_h=e.window[l],e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[l+3-1])&e.hash_mask,e.prev[l&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=l,l++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<h&&0!==e.strm.avail_in)}function B(e,t){for(var a,n;;){if(e.lookahead<h){if(E(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(a=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==a&&e.strstart-a<=e.w_size-h&&(e.match_length=S(e,a)),e.match_length>=3)if(n=r._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(x(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(x(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(x(e,!1),0===e.strm.avail_out)?1:2}function U(e,t){for(var a,n,i;;){if(e.lookahead<h){if(E(e),e.lookahead<h&&0===t)return 1;if(0===e.lookahead)break}if(a=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==a&&e.prev_length<e.max_lazy_match&&e.strstart-a<=e.w_size-h&&(e.match_length=S(e,a),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=r._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,a=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(x(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=r._tr_tally(e,0,e.window[e.strstart-1]))&&x(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=r._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(x(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(x(e,!1),0===e.strm.avail_out)?1:2}function R(e,t,r,a,n){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=a,this.func=n}function I(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new t.Buf16(1146),this.dyn_dtree=new t.Buf16(122),this.bl_tree=new t.Buf16(78),k(this.dyn_ltree),k(this.dyn_dtree),k(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new t.Buf16(16),this.heap=new t.Buf16(573),k(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new t.Buf16(573),k(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function T(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:d,e.adler=2===t.wrap?0:1,t.last_flush=0,r._tr_init(t),0):_(e,o)}function Z(t){var r,a=T(t);return 0===a&&((r=t.state).window_size=2*r.w_size,k(r.head),r.max_lazy_match=e[r.level].max_lazy,r.good_match=e[r.level].good_length,r.nice_match=e[r.level].nice_length,r.max_chain_length=e[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=2,r.match_available=0,r.ins_h=0),a}function N(e,r,a,n,i,s){if(!e)return o;var l=1;if(-1===r&&(r=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),i<1||i>9||8!==a||n<8||n>15||r<0||r>9||s<0||s>4)return _(e,o);8===n&&(n=9);var h=new I;return e.state=h,h.strm=e,h.wrap=l,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=i+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+3-1)/3),h.window=new t.Buf8(2*h.w_size),h.head=new t.Buf16(h.hash_size),h.prev=new t.Buf16(h.w_size),h.lit_bufsize=1<<i+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new t.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=r,h.strategy=s,h.method=a,Z(e)}return e=[new R(0,0,0,0,(function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(E(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var a=e.block_start+r;if((0===e.strstart||e.strstart>=a)&&(e.lookahead=e.strstart-a,e.strstart=a,x(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-h&&(x(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(x(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(x(e,!1),e.strm.avail_out),1)})),new R(4,4,8,4,B),new R(4,5,16,8,B),new R(4,6,32,32,B),new R(4,4,16,16,U),new R(8,16,32,32,U),new R(8,16,128,128,U),new R(8,32,128,256,U),new R(32,128,258,1024,U),new R(32,258,258,4096,U)],g.deflateInit=function(e,t){return N(e,t,8,15,8,0)},g.deflateInit2=N,g.deflateReset=Z,g.deflateResetKeep=T,g.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?o:(e.state.gzhead=t,0):o},g.deflate=function(t,a){var i,s,h,c;if(!t||!t.state||a>5||a<0)return t?_(t,o):o;if(s=t.state,!t.output||!t.input&&0!==t.avail_in||s.status===u&&4!==a)return _(t,0===t.avail_out?-5:o);if(s.strm=t,i=s.last_flush,s.last_flush=a,42===s.status)if(2===s.wrap)t.adler=0,z(s,31),z(s,139),z(s,8),s.gzhead?(z(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),z(s,255&s.gzhead.time),z(s,s.gzhead.time>>8&255),z(s,s.gzhead.time>>16&255),z(s,s.gzhead.time>>24&255),z(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),z(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(z(s,255&s.gzhead.extra.length),z(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(t.adler=n(t.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=69):(z(s,0),z(s,0),z(s,0),z(s,0),z(s,0),z(s,9===s.level?2:s.strategy>=2||s.level<2?4:0),z(s,3),s.status=d);else{var g=8+(s.w_bits-8<<4)<<8;g|=(s.strategy>=2||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(g|=32),g+=31-g%31,s.status=d,A(s,g),0!==s.strstart&&(A(s,t.adler>>>16),A(s,65535&t.adler)),t.adler=1}if(69===s.status)if(s.gzhead.extra){for(h=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>h&&(t.adler=n(t.adler,s.pending_buf,s.pending-h,h)),y(t),h=s.pending,s.pending!==s.pending_buf_size));)z(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>h&&(t.adler=n(t.adler,s.pending_buf,s.pending-h,h)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=73)}else s.status=73;if(73===s.status)if(s.gzhead.name){h=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>h&&(t.adler=n(t.adler,s.pending_buf,s.pending-h,h)),y(t),h=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,z(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>h&&(t.adler=n(t.adler,s.pending_buf,s.pending-h,h)),0===c&&(s.gzindex=0,s.status=91)}else s.status=91;if(91===s.status)if(s.gzhead.comment){h=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>h&&(t.adler=n(t.adler,s.pending_buf,s.pending-h,h)),y(t),h=s.pending,s.pending===s.pending_buf_size)){c=1;break}c=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,z(s,c)}while(0!==c);s.gzhead.hcrc&&s.pending>h&&(t.adler=n(t.adler,s.pending_buf,s.pending-h,h)),0===c&&(s.status=f)}else s.status=f;if(s.status===f&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&y(t),s.pending+2<=s.pending_buf_size&&(z(s,255&t.adler),z(s,t.adler>>8&255),t.adler=0,s.status=d)):s.status=d),0!==s.pending){if(y(t),0===t.avail_out)return s.last_flush=-1,0}else if(0===t.avail_in&&b(a)<=b(i)&&4!==a)return _(t,-5);if(s.status===u&&0!==t.avail_in)return _(t,-5);if(0!==t.avail_in||0!==s.lookahead||0!==a&&s.status!==u){var w=2===s.strategy?function(e,t){for(var a;;){if(0===e.lookahead&&(E(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,a=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,a&&(x(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(x(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(x(e,!1),0===e.strm.avail_out)?1:2}(s,a):3===s.strategy?function(e,t){for(var a,n,i,s,o=e.window;;){if(e.lookahead<=l){if(E(e),e.lookahead<=l&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){s=e.strstart+l;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<s);e.match_length=l-(s-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(a=r._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(a=r._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),a&&(x(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(x(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(x(e,!1),0===e.strm.avail_out)?1:2}(s,a):e[s.level].func(s,a);if(3!==w&&4!==w||(s.status=u),1===w||3===w)return 0===t.avail_out&&(s.last_flush=-1),0;if(2===w&&(1===a?r._tr_align(s):5!==a&&(r._tr_stored_block(s,0,0,!1),3===a&&(k(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),y(t),0===t.avail_out))return s.last_flush=-1,0}return 4!==a?0:s.wrap<=0?1:(2===s.wrap?(z(s,255&t.adler),z(s,t.adler>>8&255),z(s,t.adler>>16&255),z(s,t.adler>>24&255),z(s,255&t.total_in),z(s,t.total_in>>8&255),z(s,t.total_in>>16&255),z(s,t.total_in>>24&255)):(A(s,t.adler>>>16),A(s,65535&t.adler)),y(t),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?0:1)},g.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&t!==f&&t!==d&&t!==u?_(e,o):(e.state=null,t===d?_(e,-3):0):o},g.deflateSetDictionary=function(e,r){var n,i,s,l,h,f,d,u,c=r.length;if(!e||!e.state)return o;if(2===(l=(n=e.state).wrap)||1===l&&42!==n.status||n.lookahead)return o;for(1===l&&(e.adler=a(e.adler,r,c,0)),n.wrap=0,c>=n.w_size&&(0===l&&(k(n.head),n.strstart=0,n.block_start=0,n.insert=0),u=new t.Buf8(n.w_size),t.arraySet(u,r,c-n.w_size,n.w_size,0),r=u,c=n.w_size),h=e.avail_in,f=e.next_in,d=e.input,e.avail_in=c,e.next_in=0,e.input=r,E(n);n.lookahead>=3;){i=n.strstart,s=n.lookahead-2;do{n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++}while(--s);n.strstart=i,n.lookahead=2,E(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=f,e.input=d,e.avail_in=h,n.wrap=l,0},g.deflateInfo="pako deflate (from Nodeca project)",g}var y,x,z,A,S={};function E(){if(y)return S;y=1;var e=i(),t=!0,r=!0;try{String.fromCharCode.apply(null,[0])}catch(e){t=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){r=!1}for(var a=new e.Buf8(256),n=0;n<256;n++)a[n]=n>=252?6:n>=248?5:n>=240?4:n>=224?3:n>=192?2:1;function s(a,n){if(n<65534&&(a.subarray&&r||!a.subarray&&t))return String.fromCharCode.apply(null,e.shrinkBuf(a,n));for(var i="",s=0;s<n;s++)i+=String.fromCharCode(a[s]);return i}return a[254]=a[254]=1,S.string2buf=function(t){var r,a,n,i,s,o=t.length,l=0;for(i=0;i<o;i++)55296==(64512&(a=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=t.charCodeAt(i+1)))&&(a=65536+(a-55296<<10)+(n-56320),i++),l+=a<128?1:a<2048?2:a<65536?3:4;for(r=new e.Buf8(l),s=0,i=0;s<l;i++)55296==(64512&(a=t.charCodeAt(i)))&&i+1<o&&56320==(64512&(n=t.charCodeAt(i+1)))&&(a=65536+(a-55296<<10)+(n-56320),i++),a<128?r[s++]=a:a<2048?(r[s++]=192|a>>>6,r[s++]=128|63&a):a<65536?(r[s++]=224|a>>>12,r[s++]=128|a>>>6&63,r[s++]=128|63&a):(r[s++]=240|a>>>18,r[s++]=128|a>>>12&63,r[s++]=128|a>>>6&63,r[s++]=128|63&a);return r},S.buf2binstring=function(e){return s(e,e.length)},S.binstring2buf=function(t){for(var r=new e.Buf8(t.length),a=0,n=r.length;a<n;a++)r[a]=t.charCodeAt(a);return r},S.buf2string=function(e,t){var r,n,i,o,l=t||e.length,h=new Array(2*l);for(n=0,r=0;r<l;)if((i=e[r++])<128)h[n++]=i;else if((o=a[i])>4)h[n++]=65533,r+=o-1;else{for(i&=2===o?31:3===o?15:7;o>1&&r<l;)i=i<<6|63&e[r++],o--;o>1?h[n++]=65533:i<65536?h[n++]=i:(i-=65536,h[n++]=55296|i>>10&1023,h[n++]=56320|1023&i)}return s(h,n)},S.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;r>=0&&128==(192&e[r]);)r--;return r<0||0===r?t:r+a[e[r]]>t?r:t},S}function B(){if(z)return x;return z=1,x=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}var U,R,I,T,Z,N,D,C,M,L,O,H,q,P={},F={};function j(){if(Z)return F;Z=1;var e=i(),t=v(),r=p(),a=R?U:(R=1,U=function(e,t){var r,a,n,i,s,o,l,h,f,d,u,c,_,g,b,w,v,p,m,k,y,x,z,A,S;r=e.state,a=e.next_in,A=e.input,n=a+(e.avail_in-5),i=e.next_out,S=e.output,s=i-(t-e.avail_out),o=i+(e.avail_out-257),l=r.dmax,h=r.wsize,f=r.whave,d=r.wnext,u=r.window,c=r.hold,_=r.bits,g=r.lencode,b=r.distcode,w=(1<<r.lenbits)-1,v=(1<<r.distbits)-1;e:do{_<15&&(c+=A[a++]<<_,_+=8,c+=A[a++]<<_,_+=8),p=g[c&w];t:for(;;){if(c>>>=m=p>>>24,_-=m,0==(m=p>>>16&255))S[i++]=65535&p;else{if(!(16&m)){if(0==(64&m)){p=g[(65535&p)+(c&(1<<m)-1)];continue t}if(32&m){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}k=65535&p,(m&=15)&&(_<m&&(c+=A[a++]<<_,_+=8),k+=c&(1<<m)-1,c>>>=m,_-=m),_<15&&(c+=A[a++]<<_,_+=8,c+=A[a++]<<_,_+=8),p=b[c&v];r:for(;;){if(c>>>=m=p>>>24,_-=m,!(16&(m=p>>>16&255))){if(0==(64&m)){p=b[(65535&p)+(c&(1<<m)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(y=65535&p,_<(m&=15)&&(c+=A[a++]<<_,(_+=8)<m&&(c+=A[a++]<<_,_+=8)),(y+=c&(1<<m)-1)>l){e.msg="invalid distance too far back",r.mode=30;break e}if(c>>>=m,_-=m,y>(m=i-s)){if((m=y-m)>f&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(x=0,z=u,0===d){if(x+=h-m,m<k){k-=m;do{S[i++]=u[x++]}while(--m);x=i-y,z=S}}else if(d<m){if(x+=h+d-m,(m-=d)<k){k-=m;do{S[i++]=u[x++]}while(--m);if(x=0,d<k){k-=m=d;do{S[i++]=u[x++]}while(--m);x=i-y,z=S}}}else if(x+=d-m,m<k){k-=m;do{S[i++]=u[x++]}while(--m);x=i-y,z=S}for(;k>2;)S[i++]=z[x++],S[i++]=z[x++],S[i++]=z[x++],k-=3;k&&(S[i++]=z[x++],k>1&&(S[i++]=z[x++]))}else{x=i-y;do{S[i++]=S[x++],S[i++]=S[x++],S[i++]=S[x++],k-=3}while(k>2);k&&(S[i++]=S[x++],k>1&&(S[i++]=S[x++]))}break}}break}}while(a<n&&i<o);a-=k=_>>3,c&=(1<<(_-=k<<3))-1,e.next_in=a,e.next_out=i,e.avail_in=a<n?n-a+5:5-(a-n),e.avail_out=i<o?o-i+257:257-(i-o),r.hold=c,r.bits=_}),n=function(){if(T)return I;T=1;var e=i(),t=15,r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],n=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];return I=function(i,o,l,h,f,d,u,c){var _,g,b,w,v,p,m,k,y,x=c.bits,z=0,A=0,S=0,E=0,B=0,U=0,R=0,I=0,T=0,Z=0,N=null,D=0,C=new e.Buf16(16),M=new e.Buf16(16),L=null,O=0;for(z=0;z<=t;z++)C[z]=0;for(A=0;A<h;A++)C[o[l+A]]++;for(B=x,E=t;E>=1&&0===C[E];E--);if(B>E&&(B=E),0===E)return f[d++]=20971520,f[d++]=20971520,c.bits=1,0;for(S=1;S<E&&0===C[S];S++);for(B<S&&(B=S),I=1,z=1;z<=t;z++)if(I<<=1,(I-=C[z])<0)return-1;if(I>0&&(0===i||1!==E))return-1;for(M[1]=0,z=1;z<t;z++)M[z+1]=M[z]+C[z];for(A=0;A<h;A++)0!==o[l+A]&&(u[M[o[l+A]]++]=A);if(0===i?(N=L=u,p=19):1===i?(N=r,D-=257,L=a,O-=257,p=256):(N=n,L=s,p=-1),Z=0,A=0,z=S,v=d,U=B,R=0,b=-1,w=(T=1<<B)-1,1===i&&T>852||2===i&&T>592)return 1;for(;;){m=z-R,u[A]<p?(k=0,y=u[A]):u[A]>p?(k=L[O+u[A]],y=N[D+u[A]]):(k=96,y=0),_=1<<z-R,S=g=1<<U;do{f[v+(Z>>R)+(g-=_)]=m<<24|k<<16|y|0}while(0!==g);for(_=1<<z-1;Z&_;)_>>=1;if(0!==_?(Z&=_-1,Z+=_):Z=0,A++,0==--C[z]){if(z===E)break;z=o[l+u[A]]}if(z>B&&(Z&w)!==b){for(0===R&&(R=B),v+=S,I=1<<(U=z-R);U+R<E&&!((I-=C[U+R])<=0);)U++,I<<=1;if(T+=1<<U,1===i&&T>852||2===i&&T>592)return 1;f[b=Z&w]=B<<24|U<<16|v-d|0}}return 0!==Z&&(f[v+Z]=z-R<<24|64<<16|0),c.bits=B,0}}(),s=-2,o=12,l=30;function h(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function f(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new e.Buf16(320),this.work=new e.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(t){var r;return t&&t.state?(r=t.state,t.total_in=t.total_out=r.total=0,t.msg="",r.wrap&&(t.adler=1&r.wrap),r.mode=1,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new e.Buf32(852),r.distcode=r.distdyn=new e.Buf32(592),r.sane=1,r.back=-1,0):s}function u(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,d(e)):s}function c(e,t){var r,a;return e&&e.state?(a=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?s:(null!==a.window&&a.wbits!==t&&(a.window=null),a.wrap=r,a.wbits=t,u(e))):s}function _(e,t){var r,a;return e?(a=new f,e.state=a,a.window=null,0!==(r=c(e,t))&&(e.state=null),r):s}var g,b,w=!0;function m(t){if(w){var r;for(g=new e.Buf32(512),b=new e.Buf32(32),r=0;r<144;)t.lens[r++]=8;for(;r<256;)t.lens[r++]=9;for(;r<280;)t.lens[r++]=7;for(;r<288;)t.lens[r++]=8;for(n(1,t.lens,0,288,g,0,t.work,{bits:9}),r=0;r<32;)t.lens[r++]=5;n(2,t.lens,0,32,b,0,t.work,{bits:5}),w=!1}t.lencode=g,t.lenbits=9,t.distcode=b,t.distbits=5}function k(t,r,a,n){var i,s=t.state;return null===s.window&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new e.Buf8(s.wsize)),n>=s.wsize?(e.arraySet(s.window,r,a-s.wsize,s.wsize,0),s.wnext=0,s.whave=s.wsize):((i=s.wsize-s.wnext)>n&&(i=n),e.arraySet(s.window,r,a-n,i,s.wnext),(n-=i)?(e.arraySet(s.window,r,a-n,n,0),s.wnext=n,s.whave=s.wsize):(s.wnext+=i,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=i))),0}return F.inflateReset=u,F.inflateReset2=c,F.inflateResetKeep=d,F.inflateInit=function(e){return _(e,15)},F.inflateInit2=_,F.inflate=function(i,f){var d,u,c,_,g,b,w,v,p,y,x,z,A,S,E,B,U,R,I,T,Z,N,D,C,M=0,L=new e.Buf8(4),O=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!i||!i.state||!i.output||!i.input&&0!==i.avail_in)return s;(d=i.state).mode===o&&(d.mode=13),g=i.next_out,c=i.output,w=i.avail_out,_=i.next_in,u=i.input,b=i.avail_in,v=d.hold,p=d.bits,y=b,x=w,N=0;e:for(;;)switch(d.mode){case 1:if(0===d.wrap){d.mode=13;break}for(;p<16;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if(2&d.wrap&&35615===v){d.check=0,L[0]=255&v,L[1]=v>>>8&255,d.check=r(d.check,L,2,0),v=0,p=0,d.mode=2;break}if(d.flags=0,d.head&&(d.head.done=!1),!(1&d.wrap)||(((255&v)<<8)+(v>>8))%31){i.msg="incorrect header check",d.mode=l;break}if(8!=(15&v)){i.msg="unknown compression method",d.mode=l;break}if(p-=4,Z=8+(15&(v>>>=4)),0===d.wbits)d.wbits=Z;else if(Z>d.wbits){i.msg="invalid window size",d.mode=l;break}d.dmax=1<<Z,i.adler=d.check=1,d.mode=512&v?10:o,v=0,p=0;break;case 2:for(;p<16;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if(d.flags=v,8!=(255&d.flags)){i.msg="unknown compression method",d.mode=l;break}if(57344&d.flags){i.msg="unknown header flags set",d.mode=l;break}d.head&&(d.head.text=v>>8&1),512&d.flags&&(L[0]=255&v,L[1]=v>>>8&255,d.check=r(d.check,L,2,0)),v=0,p=0,d.mode=3;case 3:for(;p<32;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}d.head&&(d.head.time=v),512&d.flags&&(L[0]=255&v,L[1]=v>>>8&255,L[2]=v>>>16&255,L[3]=v>>>24&255,d.check=r(d.check,L,4,0)),v=0,p=0,d.mode=4;case 4:for(;p<16;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}d.head&&(d.head.xflags=255&v,d.head.os=v>>8),512&d.flags&&(L[0]=255&v,L[1]=v>>>8&255,d.check=r(d.check,L,2,0)),v=0,p=0,d.mode=5;case 5:if(1024&d.flags){for(;p<16;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}d.length=v,d.head&&(d.head.extra_len=v),512&d.flags&&(L[0]=255&v,L[1]=v>>>8&255,d.check=r(d.check,L,2,0)),v=0,p=0}else d.head&&(d.head.extra=null);d.mode=6;case 6:if(1024&d.flags&&((z=d.length)>b&&(z=b),z&&(d.head&&(Z=d.head.extra_len-d.length,d.head.extra||(d.head.extra=new Array(d.head.extra_len)),e.arraySet(d.head.extra,u,_,z,Z)),512&d.flags&&(d.check=r(d.check,u,z,_)),b-=z,_+=z,d.length-=z),d.length))break e;d.length=0,d.mode=7;case 7:if(2048&d.flags){if(0===b)break e;z=0;do{Z=u[_+z++],d.head&&Z&&d.length<65536&&(d.head.name+=String.fromCharCode(Z))}while(Z&&z<b);if(512&d.flags&&(d.check=r(d.check,u,z,_)),b-=z,_+=z,Z)break e}else d.head&&(d.head.name=null);d.length=0,d.mode=8;case 8:if(4096&d.flags){if(0===b)break e;z=0;do{Z=u[_+z++],d.head&&Z&&d.length<65536&&(d.head.comment+=String.fromCharCode(Z))}while(Z&&z<b);if(512&d.flags&&(d.check=r(d.check,u,z,_)),b-=z,_+=z,Z)break e}else d.head&&(d.head.comment=null);d.mode=9;case 9:if(512&d.flags){for(;p<16;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if(v!==(65535&d.check)){i.msg="header crc mismatch",d.mode=l;break}v=0,p=0}d.head&&(d.head.hcrc=d.flags>>9&1,d.head.done=!0),i.adler=d.check=0,d.mode=o;break;case 10:for(;p<32;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}i.adler=d.check=h(v),v=0,p=0,d.mode=11;case 11:if(0===d.havedict)return i.next_out=g,i.avail_out=w,i.next_in=_,i.avail_in=b,d.hold=v,d.bits=p,2;i.adler=d.check=1,d.mode=o;case o:if(5===f||6===f)break e;case 13:if(d.last){v>>>=7&p,p-=7&p,d.mode=27;break}for(;p<3;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}switch(d.last=1&v,p-=1,3&(v>>>=1)){case 0:d.mode=14;break;case 1:if(m(d),d.mode=20,6===f){v>>>=2,p-=2;break e}break;case 2:d.mode=17;break;case 3:i.msg="invalid block type",d.mode=l}v>>>=2,p-=2;break;case 14:for(v>>>=7&p,p-=7&p;p<32;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if((65535&v)!=(v>>>16^65535)){i.msg="invalid stored block lengths",d.mode=l;break}if(d.length=65535&v,v=0,p=0,d.mode=15,6===f)break e;case 15:d.mode=16;case 16:if(z=d.length){if(z>b&&(z=b),z>w&&(z=w),0===z)break e;e.arraySet(c,u,_,z,g),b-=z,_+=z,w-=z,g+=z,d.length-=z;break}d.mode=o;break;case 17:for(;p<14;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if(d.nlen=257+(31&v),v>>>=5,p-=5,d.ndist=1+(31&v),v>>>=5,p-=5,d.ncode=4+(15&v),v>>>=4,p-=4,d.nlen>286||d.ndist>30){i.msg="too many length or distance symbols",d.mode=l;break}d.have=0,d.mode=18;case 18:for(;d.have<d.ncode;){for(;p<3;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}d.lens[O[d.have++]]=7&v,v>>>=3,p-=3}for(;d.have<19;)d.lens[O[d.have++]]=0;if(d.lencode=d.lendyn,d.lenbits=7,D={bits:d.lenbits},N=n(0,d.lens,0,19,d.lencode,0,d.work,D),d.lenbits=D.bits,N){i.msg="invalid code lengths set",d.mode=l;break}d.have=0,d.mode=19;case 19:for(;d.have<d.nlen+d.ndist;){for(;B=(M=d.lencode[v&(1<<d.lenbits)-1])>>>16&255,U=65535&M,!((E=M>>>24)<=p);){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if(U<16)v>>>=E,p-=E,d.lens[d.have++]=U;else{if(16===U){for(C=E+2;p<C;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if(v>>>=E,p-=E,0===d.have){i.msg="invalid bit length repeat",d.mode=l;break}Z=d.lens[d.have-1],z=3+(3&v),v>>>=2,p-=2}else if(17===U){for(C=E+3;p<C;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}p-=E,Z=0,z=3+(7&(v>>>=E)),v>>>=3,p-=3}else{for(C=E+7;p<C;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}p-=E,Z=0,z=11+(127&(v>>>=E)),v>>>=7,p-=7}if(d.have+z>d.nlen+d.ndist){i.msg="invalid bit length repeat",d.mode=l;break}for(;z--;)d.lens[d.have++]=Z}}if(d.mode===l)break;if(0===d.lens[256]){i.msg="invalid code -- missing end-of-block",d.mode=l;break}if(d.lenbits=9,D={bits:d.lenbits},N=n(1,d.lens,0,d.nlen,d.lencode,0,d.work,D),d.lenbits=D.bits,N){i.msg="invalid literal/lengths set",d.mode=l;break}if(d.distbits=6,d.distcode=d.distdyn,D={bits:d.distbits},N=n(2,d.lens,d.nlen,d.ndist,d.distcode,0,d.work,D),d.distbits=D.bits,N){i.msg="invalid distances set",d.mode=l;break}if(d.mode=20,6===f)break e;case 20:d.mode=21;case 21:if(b>=6&&w>=258){i.next_out=g,i.avail_out=w,i.next_in=_,i.avail_in=b,d.hold=v,d.bits=p,a(i,x),g=i.next_out,c=i.output,w=i.avail_out,_=i.next_in,u=i.input,b=i.avail_in,v=d.hold,p=d.bits,d.mode===o&&(d.back=-1);break}for(d.back=0;B=(M=d.lencode[v&(1<<d.lenbits)-1])>>>16&255,U=65535&M,!((E=M>>>24)<=p);){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if(B&&0==(240&B)){for(R=E,I=B,T=U;B=(M=d.lencode[T+((v&(1<<R+I)-1)>>R)])>>>16&255,U=65535&M,!(R+(E=M>>>24)<=p);){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}v>>>=R,p-=R,d.back+=R}if(v>>>=E,p-=E,d.back+=E,d.length=U,0===B){d.mode=26;break}if(32&B){d.back=-1,d.mode=o;break}if(64&B){i.msg="invalid literal/length code",d.mode=l;break}d.extra=15&B,d.mode=22;case 22:if(d.extra){for(C=d.extra;p<C;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}d.length+=v&(1<<d.extra)-1,v>>>=d.extra,p-=d.extra,d.back+=d.extra}d.was=d.length,d.mode=23;case 23:for(;B=(M=d.distcode[v&(1<<d.distbits)-1])>>>16&255,U=65535&M,!((E=M>>>24)<=p);){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if(0==(240&B)){for(R=E,I=B,T=U;B=(M=d.distcode[T+((v&(1<<R+I)-1)>>R)])>>>16&255,U=65535&M,!(R+(E=M>>>24)<=p);){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}v>>>=R,p-=R,d.back+=R}if(v>>>=E,p-=E,d.back+=E,64&B){i.msg="invalid distance code",d.mode=l;break}d.offset=U,d.extra=15&B,d.mode=24;case 24:if(d.extra){for(C=d.extra;p<C;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}d.offset+=v&(1<<d.extra)-1,v>>>=d.extra,p-=d.extra,d.back+=d.extra}if(d.offset>d.dmax){i.msg="invalid distance too far back",d.mode=l;break}d.mode=25;case 25:if(0===w)break e;if(z=x-w,d.offset>z){if((z=d.offset-z)>d.whave&&d.sane){i.msg="invalid distance too far back",d.mode=l;break}z>d.wnext?(z-=d.wnext,A=d.wsize-z):A=d.wnext-z,z>d.length&&(z=d.length),S=d.window}else S=c,A=g-d.offset,z=d.length;z>w&&(z=w),w-=z,d.length-=z;do{c[g++]=S[A++]}while(--z);0===d.length&&(d.mode=21);break;case 26:if(0===w)break e;c[g++]=d.length,w--,d.mode=21;break;case 27:if(d.wrap){for(;p<32;){if(0===b)break e;b--,v|=u[_++]<<p,p+=8}if(x-=w,i.total_out+=x,d.total+=x,x&&(i.adler=d.check=d.flags?r(d.check,c,x,g-x):t(d.check,c,x,g-x)),x=w,(d.flags?v:h(v))!==d.check){i.msg="incorrect data check",d.mode=l;break}v=0,p=0}d.mode=28;case 28:if(d.wrap&&d.flags){for(;p<32;){if(0===b)break e;b--,v+=u[_++]<<p,p+=8}if(v!==(4294967295&d.total)){i.msg="incorrect length check",d.mode=l;break}v=0,p=0}d.mode=29;case 29:N=1;break e;case l:N=-3;break e;case 31:return-4;default:return s}return i.next_out=g,i.avail_out=w,i.next_in=_,i.avail_in=b,d.hold=v,d.bits=p,(d.wsize||x!==i.avail_out&&d.mode<l&&(d.mode<27||4!==f))&&k(i,i.output,i.next_out,x-i.avail_out),y-=i.avail_in,x-=i.avail_out,i.total_in+=y,i.total_out+=x,d.total+=x,d.wrap&&x&&(i.adler=d.check=d.flags?r(d.check,c,x,i.next_out-x):t(d.check,c,x,i.next_out-x)),i.data_type=d.bits+(d.last?64:0)+(d.mode===o?128:0)+(20===d.mode||15===d.mode?256:0),(0===y&&0===x||4===f)&&0===N&&(N=-5),N},F.inflateEnd=function(e){if(!e||!e.state)return s;var t=e.state;return t.window&&(t.window=null),e.state=null,0},F.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?s:(r.head=t,t.done=!1,0):s},F.inflateSetDictionary=function(e,r){var a,n=r.length;return e&&e.state?0!==(a=e.state).wrap&&11!==a.mode?s:11===a.mode&&t(1,r,n,0)!==a.check?-3:k(e,r,n,n)?(a.mode=31,-4):(a.havedict=1,0):s},F.inflateInfo="pako inflate (from Nodeca project)",F}function G(){return D?N:(D=1,N={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8})}function K(){if(L)return P;L=1;var e=j(),t=i(),r=E(),a=G(),n=m(),s=B(),o=M?C:(M=1,C=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}),l=Object.prototype.toString;function h(i){if(!(this instanceof h))return new h(i);this.options=t.assign({chunkSize:16384,windowBits:0,to:""},i||{});var f=this.options;f.raw&&f.windowBits>=0&&f.windowBits<16&&(f.windowBits=-f.windowBits,0===f.windowBits&&(f.windowBits=-15)),!(f.windowBits>=0&&f.windowBits<16)||i&&i.windowBits||(f.windowBits+=32),f.windowBits>15&&f.windowBits<48&&0==(15&f.windowBits)&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var d=e.inflateInit2(this.strm,f.windowBits);if(d!==a.Z_OK)throw new Error(n[d]);if(this.header=new o,e.inflateGetHeader(this.strm,this.header),f.dictionary&&("string"==typeof f.dictionary?f.dictionary=r.string2buf(f.dictionary):"[object ArrayBuffer]"===l.call(f.dictionary)&&(f.dictionary=new Uint8Array(f.dictionary)),f.raw&&(d=e.inflateSetDictionary(this.strm,f.dictionary))!==a.Z_OK))throw new Error(n[d])}function f(e,t){var r=new h(t);if(r.push(e,!0),r.err)throw r.msg||n[r.err];return r.result}return h.prototype.push=function(n,i){var s,o,h,f,d,u=this.strm,c=this.options.chunkSize,_=this.options.dictionary,g=!1;if(this.ended)return!1;o=i===~~i?i:!0===i?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof n?u.input=r.binstring2buf(n):"[object ArrayBuffer]"===l.call(n)?u.input=new Uint8Array(n):u.input=n,u.next_in=0,u.avail_in=u.input.length;do{if(0===u.avail_out&&(u.output=new t.Buf8(c),u.next_out=0,u.avail_out=c),(s=e.inflate(u,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&_&&(s=e.inflateSetDictionary(this.strm,_)),s===a.Z_BUF_ERROR&&!0===g&&(s=a.Z_OK,g=!1),s!==a.Z_STREAM_END&&s!==a.Z_OK)return this.onEnd(s),this.ended=!0,!1;u.next_out&&(0!==u.avail_out&&s!==a.Z_STREAM_END&&(0!==u.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(h=r.utf8border(u.output,u.next_out),f=u.next_out-h,d=r.buf2string(u.output,h),u.next_out=f,u.avail_out=c-f,f&&t.arraySet(u.output,u.output,h,f,0),this.onData(d)):this.onData(t.shrinkBuf(u.output,u.next_out)))),0===u.avail_in&&0===u.avail_out&&(g=!0)}while((u.avail_in>0||0===u.avail_out)&&s!==a.Z_STREAM_END);return s===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(s=e.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,s===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),u.avail_out=0,!0)},h.prototype.onData=function(e){this.chunks.push(e)},h.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},P.Inflate=h,P.inflate=f,P.inflateRaw=function(e,t){return(t=t||{}).raw=!0,f(e,t)},P.ungzip=f,P}function Y(){if(H)return O;H=1;var e=i().assign,t=function(){if(A)return _;A=1;var e=k(),t=i(),r=E(),a=m(),n=B(),s=Object.prototype.toString;function o(i){if(!(this instanceof o))return new o(i);this.options=t.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},i||{});var l=this.options;l.raw&&l.windowBits>0?l.windowBits=-l.windowBits:l.gzip&&l.windowBits>0&&l.windowBits<16&&(l.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new n,this.strm.avail_out=0;var h=e.deflateInit2(this.strm,l.level,l.method,l.windowBits,l.memLevel,l.strategy);if(0!==h)throw new Error(a[h]);if(l.header&&e.deflateSetHeader(this.strm,l.header),l.dictionary){var f;if(f="string"==typeof l.dictionary?r.string2buf(l.dictionary):"[object ArrayBuffer]"===s.call(l.dictionary)?new Uint8Array(l.dictionary):l.dictionary,0!==(h=e.deflateSetDictionary(this.strm,f)))throw new Error(a[h]);this._dict_set=!0}}function l(e,t){var r=new o(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}return o.prototype.push=function(a,n){var i,o,l=this.strm,h=this.options.chunkSize;if(this.ended)return!1;o=n===~~n?n:!0===n?4:0,"string"==typeof a?l.input=r.string2buf(a):"[object ArrayBuffer]"===s.call(a)?l.input=new Uint8Array(a):l.input=a,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new t.Buf8(h),l.next_out=0,l.avail_out=h),1!==(i=e.deflate(l,o))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==l.avail_out&&(0!==l.avail_in||4!==o&&2!==o)||("string"===this.options.to?this.onData(r.buf2binstring(t.shrinkBuf(l.output,l.next_out))):this.onData(t.shrinkBuf(l.output,l.next_out)))}while((l.avail_in>0||0===l.avail_out)&&1!==i);return 4===o?(i=e.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==o||(this.onEnd(0),l.avail_out=0,!0)},o.prototype.onData=function(e){this.chunks.push(e)},o.prototype.onEnd=function(e){0===e&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=t.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},_.Deflate=o,_.deflate=l,_.deflateRaw=function(e,t){return(t=t||{}).raw=!0,l(e,t)},_.gzip=function(e,t){return(t=t||{}).gzip=!0,l(e,t)},_}(),r={};return e(r,t,K(),G()),O=r}q=a,function(){var e={};q.exports=e,function(e,t){e.toRGBA8=function(t){var r=t.width,a=t.height;if(null==t.tabs.acTL)return[e.toRGBA8.decodeImage(t.data,r,a,t).buffer];var n=[];null==t.frames[0].data&&(t.frames[0].data=t.data);for(var i,s=new Uint8Array(r*a*4),o=0;o<t.frames.length;o++){var l=t.frames[o],h=l.rect.x,f=l.rect.y,d=l.rect.width,u=l.rect.height,c=e.toRGBA8.decodeImage(l.data,d,u,t);if(0==o?i=c:0==l.blend?e._copyTile(c,d,u,i,r,a,h,f,0):1==l.blend&&e._copyTile(c,d,u,i,r,a,h,f,1),n.push(i.buffer),i=i.slice(0),0==l.dispose);else if(1==l.dispose)e._copyTile(s,d,u,i,r,a,h,f,0);else if(2==l.dispose){for(var _=o-1;2==t.frames[_].dispose;)_--;i=new Uint8Array(n[_]).slice(0)}}return n},e.toRGBA8.decodeImage=function(t,r,a,n){var i=r*a,s=e.decode._getBPP(n),o=Math.ceil(r*s/8),l=new Uint8Array(4*i),h=new Uint32Array(l.buffer),f=n.ctype,d=n.depth,u=e._bin.readUshort;if(6==f){var c=i<<2;if(8==d)for(var _=0;_<c;_++)l[_]=t[_];if(16==d)for(_=0;_<c;_++)l[_]=t[_<<1]}else if(2==f){var g=n.tabs.tRNS,b=-1,w=-1,v=-1;if(g&&(b=g[0],w=g[1],v=g[2]),8==d)for(_=0;_<i;_++){var p=3*_;l[S=_<<2]=t[p],l[S+1]=t[p+1],l[S+2]=t[p+2],l[S+3]=255,-1!=b&&t[p]==b&&t[p+1]==w&&t[p+2]==v&&(l[S+3]=0)}if(16==d)for(_=0;_<i;_++)p=6*_,l[S=_<<2]=t[p],l[S+1]=t[p+2],l[S+2]=t[p+4],l[S+3]=255,-1!=b&&u(t,p)==b&&u(t,p+2)==w&&u(t,p+4)==v&&(l[S+3]=0)}else if(3==f){var m=n.tabs.PLTE,k=n.tabs.tRNS,y=k?k.length:0;if(1==d)for(var x=0;x<a;x++){var z=x*o,A=x*r;for(_=0;_<r;_++){var S=A+_<<2,E=3*(B=t[z+(_>>3)]>>7-((7&_)<<0)&1);l[S]=m[E],l[S+1]=m[E+1],l[S+2]=m[E+2],l[S+3]=B<y?k[B]:255}}if(2==d)for(x=0;x<a;x++)for(z=x*o,A=x*r,_=0;_<r;_++)S=A+_<<2,E=3*(B=t[z+(_>>2)]>>6-((3&_)<<1)&3),l[S]=m[E],l[S+1]=m[E+1],l[S+2]=m[E+2],l[S+3]=B<y?k[B]:255;if(4==d)for(x=0;x<a;x++)for(z=x*o,A=x*r,_=0;_<r;_++)S=A+_<<2,E=3*(B=t[z+(_>>1)]>>4-((1&_)<<2)&15),l[S]=m[E],l[S+1]=m[E+1],l[S+2]=m[E+2],l[S+3]=B<y?k[B]:255;if(8==d)for(_=0;_<i;_++){var B;S=_<<2,E=3*(B=t[_]),l[S]=m[E],l[S+1]=m[E+1],l[S+2]=m[E+2],l[S+3]=B<y?k[B]:255}}else if(4==f){if(8==d)for(_=0;_<i;_++){S=_<<2;var U=t[R=_<<1];l[S]=U,l[S+1]=U,l[S+2]=U,l[S+3]=t[R+1]}if(16==d)for(_=0;_<i;_++){var R;S=_<<2,U=t[R=_<<2],l[S]=U,l[S+1]=U,l[S+2]=U,l[S+3]=t[R+2]}}else if(0==f){if(b=n.tabs.tRNS?n.tabs.tRNS:-1,1==d)for(_=0;_<i;_++){var I=(U=255*(t[_>>3]>>7-(7&_)&1))==255*b?0:255;h[_]=I<<24|U<<16|U<<8|U}if(2==d)for(_=0;_<i;_++)I=(U=85*(t[_>>2]>>6-((3&_)<<1)&3))==85*b?0:255,h[_]=I<<24|U<<16|U<<8|U;if(4==d)for(_=0;_<i;_++)I=(U=17*(t[_>>1]>>4-((1&_)<<2)&15))==17*b?0:255,h[_]=I<<24|U<<16|U<<8|U;if(8==d)for(_=0;_<i;_++)I=(U=t[_])==b?0:255,h[_]=I<<24|U<<16|U<<8|U;if(16==d)for(_=0;_<i;_++)U=t[_<<1],I=u(t,_<<1)==b?0:255,h[_]=I<<24|U<<16|U<<8|U}return l},e.decode=function(t){for(var r,a=new Uint8Array(t),n=8,i=e._bin,s=i.readUshort,o=i.readUint,l={tabs:{},frames:[]},h=new Uint8Array(a.length),f=0,d=0,u=[137,80,78,71,13,10,26,10],c=0;c<8;c++)if(a[c]!=u[c])throw"The input is not a PNG file!";for(;n<a.length;){var _=i.readUint(a,n);n+=4;var g=i.readASCII(a,n,4);if(n+=4,"IHDR"==g)e.decode._IHDR(a,n,l);else if("IDAT"==g){for(c=0;c<_;c++)h[f+c]=a[n+c];f+=_}else if("acTL"==g)l.tabs[g]={num_frames:o(a,n),num_plays:o(a,n+4)},r=new Uint8Array(a.length);else if("fcTL"==g){0!=d&&((z=l.frames[l.frames.length-1]).data=e.decode._decompress(l,r.slice(0,d),z.rect.width,z.rect.height),d=0);var b={x:o(a,n+12),y:o(a,n+16),width:o(a,n+4),height:o(a,n+8)},w=s(a,n+22);w=s(a,n+20)/(0==w?100:w);var v={rect:b,delay:Math.round(1e3*w),dispose:a[n+24],blend:a[n+25]};l.frames.push(v)}else if("fdAT"==g){for(c=0;c<_-4;c++)r[d+c]=a[n+c+4];d+=_-4}else if("pHYs"==g)l.tabs[g]=[i.readUint(a,n),i.readUint(a,n+4),a[n+8]];else if("cHRM"==g)for(l.tabs[g]=[],c=0;c<8;c++)l.tabs[g].push(i.readUint(a,n+4*c));else if("tEXt"==g){null==l.tabs[g]&&(l.tabs[g]={});var p=i.nextZero(a,n),m=i.readASCII(a,n,p-n),k=i.readASCII(a,p+1,n+_-p-1);l.tabs[g][m]=k}else if("iTXt"==g){null==l.tabs[g]&&(l.tabs[g]={}),p=0;var y=n;p=i.nextZero(a,y),m=i.readASCII(a,y,p-y),a[y=p+1],a[y+1],y+=2,p=i.nextZero(a,y),i.readASCII(a,y,p-y),y=p+1,p=i.nextZero(a,y),i.readUTF8(a,y,p-y),y=p+1,k=i.readUTF8(a,y,_-(y-n)),l.tabs[g][m]=k}else if("PLTE"==g)l.tabs[g]=i.readBytes(a,n,_);else if("hIST"==g){var x=l.tabs.PLTE.length/3;for(l.tabs[g]=[],c=0;c<x;c++)l.tabs[g].push(s(a,n+2*c))}else if("tRNS"==g)3==l.ctype?l.tabs[g]=i.readBytes(a,n,_):0==l.ctype?l.tabs[g]=s(a,n):2==l.ctype&&(l.tabs[g]=[s(a,n),s(a,n+2),s(a,n+4)]);else if("gAMA"==g)l.tabs[g]=i.readUint(a,n)/1e5;else if("sRGB"==g)l.tabs[g]=a[n];else if("bKGD"==g)0==l.ctype||4==l.ctype?l.tabs[g]=[s(a,n)]:2==l.ctype||6==l.ctype?l.tabs[g]=[s(a,n),s(a,n+2),s(a,n+4)]:3==l.ctype&&(l.tabs[g]=a[n]);else if("IEND"==g){var z;0!=d&&((z=l.frames[l.frames.length-1]).data=e.decode._decompress(l,r.slice(0,d),z.rect.width,z.rect.height),d=0),l.data=e.decode._decompress(l,h,l.width,l.height);break}n+=_,i.readUint(a,n),n+=4}return delete l.compress,delete l.interlace,delete l.filter,l},e.decode._decompress=function(t,r,a,n){return 0==t.compress&&(r=e.decode._inflate(r)),0==t.interlace?r=e.decode._filterZero(r,t,0,a,n):1==t.interlace&&(r=e.decode._readInterlace(r,t)),r},e.decode._inflate=function(e){return t.inflate(e)},e.decode._readInterlace=function(t,r){for(var a=r.width,n=r.height,i=e.decode._getBPP(r),s=i>>3,o=Math.ceil(a*i/8),l=new Uint8Array(n*o),h=0,f=[0,0,4,0,2,0,1],d=[0,4,0,2,0,1,0],u=[8,8,8,4,4,2,2],c=[8,8,4,4,2,2,1],_=0;_<7;){for(var g=u[_],b=c[_],w=0,v=0,p=f[_];p<n;)p+=g,v++;for(var m=d[_];m<a;)m+=b,w++;var k=Math.ceil(w*i/8);e.decode._filterZero(t,r,h,w,v);for(var y=0,x=f[_];x<n;){for(var z=d[_],A=h+y*k<<3;z<a;){var S;if(1==i&&(S=(S=t[A>>3])>>7-(7&A)&1,l[x*o+(z>>3)]|=S<<7-((3&z)<<0)),2==i&&(S=(S=t[A>>3])>>6-(7&A)&3,l[x*o+(z>>2)]|=S<<6-((3&z)<<1)),4==i&&(S=(S=t[A>>3])>>4-(7&A)&15,l[x*o+(z>>1)]|=S<<4-((1&z)<<2)),i>=8)for(var E=x*o+z*s,B=0;B<s;B++)l[E+B]=t[(A>>3)+B];A+=i,z+=b}y++,x+=g}w*v!=0&&(h+=v*(1+k)),_+=1}return l},e.decode._getBPP=function(e){return[1,null,3,1,2,null,4][e.ctype]*e.depth},e.decode._filterZero=function(t,r,a,n,i){var s=e.decode._getBPP(r),o=Math.ceil(n*s/8),l=e.decode._paeth;s=Math.ceil(s/8);for(var h=0;h<i;h++){var f=a+h*o,d=f+h+1,u=t[d-1];if(0==u)for(var c=0;c<o;c++)t[f+c]=t[d+c];else if(1==u){for(c=0;c<s;c++)t[f+c]=t[d+c];for(c=s;c<o;c++)t[f+c]=t[d+c]+t[f+c-s]&255}else if(0==h){for(c=0;c<s;c++)t[f+c]=t[d+c];if(2==u)for(c=s;c<o;c++)t[f+c]=255&t[d+c];if(3==u)for(c=s;c<o;c++)t[f+c]=t[d+c]+(t[f+c-s]>>1)&255;if(4==u)for(c=s;c<o;c++)t[f+c]=t[d+c]+l(t[f+c-s],0,0)&255}else{if(2==u)for(c=0;c<o;c++)t[f+c]=t[d+c]+t[f+c-o]&255;if(3==u){for(c=0;c<s;c++)t[f+c]=t[d+c]+(t[f+c-o]>>1)&255;for(c=s;c<o;c++)t[f+c]=t[d+c]+(t[f+c-o]+t[f+c-s]>>1)&255}if(4==u){for(c=0;c<s;c++)t[f+c]=t[d+c]+l(0,t[f+c-o],0)&255;for(c=s;c<o;c++)t[f+c]=t[d+c]+l(t[f+c-s],t[f+c-o],t[f+c-s-o])&255}}}return t},e.decode._paeth=function(e,t,r){var a=e+t-r,n=Math.abs(a-e),i=Math.abs(a-t),s=Math.abs(a-r);return n<=i&&n<=s?e:i<=s?t:r},e.decode._IHDR=function(t,r,a){var n=e._bin;a.width=n.readUint(t,r),r+=4,a.height=n.readUint(t,r),r+=4,a.depth=t[r],r++,a.ctype=t[r],r++,a.compress=t[r],r++,a.filter=t[r],r++,a.interlace=t[r],r++},e._bin={nextZero:function(e,t){for(;0!=e[t];)t++;return t},readUshort:function(e,t){return e[t]<<8|e[t+1]},writeUshort:function(e,t,r){e[t]=r>>8&255,e[t+1]=255&r},readUint:function(e,t){return 16777216*e[t]+(e[t+1]<<16|e[t+2]<<8|e[t+3])},writeUint:function(e,t,r){e[t]=r>>24&255,e[t+1]=r>>16&255,e[t+2]=r>>8&255,e[t+3]=255&r},readASCII:function(e,t,r){for(var a="",n=0;n<r;n++)a+=String.fromCharCode(e[t+n]);return a},writeASCII:function(e,t,r){for(var a=0;a<r.length;a++)e[t+a]=r.charCodeAt(a)},readBytes:function(e,t,r){for(var a=[],n=0;n<r;n++)a.push(e[t+n]);return a},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(t,r,a){for(var n,i="",s=0;s<a;s++)i+="%"+e._bin.pad(t[r+s].toString(16));try{n=decodeURIComponent(i)}catch(n){return e._bin.readASCII(t,r,a)}return n}},e._copyTile=function(e,t,r,a,n,i,s,o,l){for(var h=Math.min(t,n),f=Math.min(r,i),d=0,u=0,c=0;c<f;c++)for(var _=0;_<h;_++)if(s>=0&&o>=0?(d=c*t+_<<2,u=(o+c)*n+s+_<<2):(d=(-o+c)*t-s+_<<2,u=c*n+_<<2),0==l)a[u]=e[d],a[u+1]=e[d+1],a[u+2]=e[d+2],a[u+3]=e[d+3];else if(1==l){var g=e[d+3]*(1/255),b=e[d]*g,w=e[d+1]*g,v=e[d+2]*g,p=a[u+3]*(1/255),m=a[u]*p,k=a[u+1]*p,y=a[u+2]*p,x=1-g,z=g+p*x,A=0==z?0:1/z;a[u+3]=255*z,a[u+0]=(b+m*x)*A,a[u+1]=(w+k*x)*A,a[u+2]=(v+y*x)*A}else if(2==l)g=e[d+3],b=e[d],w=e[d+1],v=e[d+2],p=a[u+3],m=a[u],k=a[u+1],y=a[u+2],g==p&&b==m&&w==k&&v==y?(a[u]=0,a[u+1]=0,a[u+2]=0,a[u+3]=0):(a[u]=b,a[u+1]=w,a[u+2]=v,a[u+3]=g);else if(3==l){if(g=e[d+3],b=e[d],w=e[d+1],v=e[d+2],p=a[u+3],m=a[u],k=a[u+1],y=a[u+2],g==p&&b==m&&w==k&&v==y)continue;if(g<220&&p>20)return!1}return!0},e.encode=function(t,r,a,n,i,s){null==n&&(n=0),null==s&&(s=!1);for(var o=new Uint8Array(t[0].byteLength*t.length+100),l=[137,80,78,71,13,10,26,10],h=0;h<8;h++)o[h]=l[h];var f=8,d=e._bin,u=e.crc.crc,c=d.writeUint,_=d.writeUshort,g=d.writeASCII,b=e.encode.compressPNG(t,r,a,n,s);c(o,f,13),g(o,f+=4,"IHDR"),c(o,f+=4,r),c(o,f+=4,a),o[f+=4]=b.depth,o[++f]=b.ctype,o[++f]=0,o[++f]=0,o[++f]=0,c(o,++f,u(o,f-17,17)),c(o,f+=4,1),g(o,f+=4,"sRGB"),o[f+=4]=1,c(o,++f,u(o,f-5,5)),f+=4;var w=t.length>1;if(w&&(c(o,f,8),g(o,f+=4,"acTL"),c(o,f+=4,t.length),c(o,f+=4,0),c(o,f+=4,u(o,f-12,12)),f+=4),3==b.ctype){for(c(o,f,3*(S=b.plte.length)),g(o,f+=4,"PLTE"),f+=4,h=0;h<S;h++){var v=3*h,p=b.plte[h],m=255&p,k=p>>8&255,y=p>>16&255;o[f+v+0]=m,o[f+v+1]=k,o[f+v+2]=y}if(c(o,f+=3*S,u(o,f-3*S-4,3*S+4)),f+=4,b.gotAlpha){for(c(o,f,S),g(o,f+=4,"tRNS"),f+=4,h=0;h<S;h++)o[f+h]=b.plte[h]>>24&255;c(o,f+=S,u(o,f-S-4,S+4)),f+=4}}for(var x=0,z=0;z<b.frames.length;z++){var A=b.frames[z];w&&(c(o,f,26),g(o,f+=4,"fcTL"),c(o,f+=4,x++),c(o,f+=4,A.rect.width),c(o,f+=4,A.rect.height),c(o,f+=4,A.rect.x),c(o,f+=4,A.rect.y),_(o,f+=4,i[z]),_(o,f+=2,1e3),o[f+=2]=A.dispose,o[++f]=A.blend,c(o,++f,u(o,f-30,30)),f+=4);var S,E=A.cimg;c(o,f,(S=E.length)+(0==z?0:4));var B=f+=4;for(g(o,f,0==z?"IDAT":"fdAT"),f+=4,0!=z&&(c(o,f,x++),f+=4),h=0;h<S;h++)o[f+h]=E[h];c(o,f+=S,u(o,B,f-B)),f+=4}return c(o,f,0),g(o,f+=4,"IEND"),c(o,f+=4,u(o,f-4,4)),f+=4,o.buffer.slice(0,f)},e.encode.compressPNG=function(t,r,a,n,i){for(var s=e.encode.compress(t,r,a,n,!1,i),o=0;o<t.length;o++){var l=s.frames[o];l.rect.width;var h=l.rect.height,f=l.bpl,d=l.bpp,u=new Uint8Array(h*f+h);l.cimg=e.encode._filterZero(l.img,h,d,f,u)}return s},e.encode.compress=function(t,r,a,n,i,s){null==s&&(s=!1);for(var o=6,l=8,h=4,f=255,d=0;d<t.length;d++)for(var u=new Uint8Array(t[d]),c=u.length,_=0;_<c;_+=4)f&=u[_+3];var g=255!=f,b={},w=[];if(0!=t.length&&(b[0]=0,w.push(0),0!=n&&n--),0!=n){var v=e.quantize(t,n,i);for(t=v.bufs,_=0;_<v.plte.length;_++)null==b[m=v.plte[_].est.rgba]&&(b[m]=w.length,w.push(m))}else for(d=0;d<t.length;d++){var p=new Uint32Array(t[d]);for(c=p.length,_=0;_<c;_++){var m=p[_];if((_<r||m!=p[_-1]&&m!=p[_-r])&&null==b[m]&&(b[m]=w.length,w.push(m),w.length>=300))break}}var k=!!g&&i,y=w.length;y<=256&&0==s&&(l=y<=2?1:y<=4?2:y<=16?4:8,i&&(l=8),g=!0);var x=[];for(d=0;d<t.length;d++){var z=new Uint8Array(t[d]),A=new Uint32Array(z.buffer),S=0,E=0,B=r,U=a,R=0;if(0!=d&&!k){for(var I=i||1==d||2==x[x.length-2].dispose?1:2,T=0,Z=1e9,N=0;N<I;N++){for(var D=new Uint8Array(t[d-1-N]),C=new Uint32Array(t[d-1-N]),M=r,L=a,O=-1,H=-1,q=0;q<a;q++)for(var P=0;P<r;P++)A[_=q*r+P]!=C[_]&&(P<M&&(M=P),P>O&&(O=P),q<L&&(L=q),q>H&&(H=q));var F=-1==O?1:(O-M+1)*(H-L+1);F<Z&&(Z=F,T=N,-1==O?(S=E=0,B=U=1):(S=M,E=L,B=O-M+1,U=H-L+1))}D=new Uint8Array(t[d-1-T]),1==T&&(x[x.length-1].dispose=2);var j=new Uint8Array(B*U*4);new Uint32Array(j.buffer),e._copyTile(D,r,a,j,B,U,-S,-E,0),e._copyTile(z,r,a,j,B,U,-S,-E,3)?(e._copyTile(z,r,a,j,B,U,-S,-E,2),R=1):(e._copyTile(z,r,a,j,B,U,-S,-E,0),R=0),z=j,A=new Uint32Array(z.buffer)}var G=4*B;if(y<=256&&0==s){for(G=Math.ceil(l*B/8),j=new Uint8Array(G*U),q=0;q<U;q++){_=q*G;var K=q*B;if(8==l)for(P=0;P<B;P++)j[_+P]=b[A[K+P]];else if(4==l)for(P=0;P<B;P++)j[_+(P>>1)]|=b[A[K+P]]<<4-4*(1&P);else if(2==l)for(P=0;P<B;P++)j[_+(P>>2)]|=b[A[K+P]]<<6-2*(3&P);else if(1==l)for(P=0;P<B;P++)j[_+(P>>3)]|=b[A[K+P]]<<7-1*(7&P)}z=j,o=3,h=1}else if(0==g&&1==t.length){j=new Uint8Array(B*U*3);var Y=B*U;for(_=0;_<Y;_++){var $=3*_,V=4*_;j[$]=z[V],j[$+1]=z[V+1],j[$+2]=z[V+2]}z=j,o=2,h=3,G=3*B}x.push({rect:{x:S,y:E,width:B,height:U},img:z,bpl:G,bpp:h,blend:R,dispose:k?1:0})}return{ctype:o,depth:l,plte:w,gotAlpha:g,frames:x}},e.encode._filterZero=function(r,a,n,i,s){for(var o=[],l=0;l<5;l++)if(!(a*i>5e5)||2!=l&&3!=l&&4!=l){for(var h=0;h<a;h++)e.encode._filterLine(s,r,h,i,n,l);if(o.push(t.deflate(s)),1==n)break}for(var f,d=1e9,u=0;u<o.length;u++)o[u].length<d&&(f=u,d=o[u].length);return o[f]},e.encode._filterLine=function(t,r,a,n,i,s){var o=a*n,l=o+a,h=e.decode._paeth;if(t[l]=s,l++,0==s)for(var f=0;f<n;f++)t[l+f]=r[o+f];else if(1==s){for(f=0;f<i;f++)t[l+f]=r[o+f];for(f=i;f<n;f++)t[l+f]=r[o+f]-r[o+f-i]+256&255}else if(0==a){for(f=0;f<i;f++)t[l+f]=r[o+f];if(2==s)for(f=i;f<n;f++)t[l+f]=r[o+f];if(3==s)for(f=i;f<n;f++)t[l+f]=r[o+f]-(r[o+f-i]>>1)+256&255;if(4==s)for(f=i;f<n;f++)t[l+f]=r[o+f]-h(r[o+f-i],0,0)+256&255}else{if(2==s)for(f=0;f<n;f++)t[l+f]=r[o+f]+256-r[o+f-n]&255;if(3==s){for(f=0;f<i;f++)t[l+f]=r[o+f]+256-(r[o+f-n]>>1)&255;for(f=i;f<n;f++)t[l+f]=r[o+f]+256-(r[o+f-n]+r[o+f-i]>>1)&255}if(4==s){for(f=0;f<i;f++)t[l+f]=r[o+f]+256-h(0,r[o+f-n],0)&255;for(f=i;f<n;f++)t[l+f]=r[o+f]+256-h(r[o+f-i],r[o+f-n],r[o+f-i-n])&255}}},e.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var r=t,a=0;a<8;a++)1&r?r=3988292384^r>>>1:r>>>=1;e[t]=r}return e}(),update:function(t,r,a,n){for(var i=0;i<n;i++)t=e.crc.table[255&(t^r[a+i])]^t>>>8;return t},crc:function(t,r,a){return 4294967295^e.crc.update(4294967295,t,r,a)}},e.quantize=function(t,r,a){for(var n=[],i=0,s=0;s<t.length;s++)n.push(e.encode.alphaMul(new Uint8Array(t[s]),a)),i+=t[s].byteLength;var o=new Uint8Array(i),l=new Uint32Array(o.buffer),h=0;for(s=0;s<n.length;s++){for(var f=n[s],d=f.length,u=0;u<d;u++)o[h+u]=f[u];h+=d}var c={i0:0,i1:o.length,bst:null,est:null,tdst:0,left:null,right:null};c.bst=e.quantize.stats(o,c.i0,c.i1),c.est=e.quantize.estats(c.bst);for(var _=[c];_.length<r;){var g=0,b=0;for(s=0;s<_.length;s++)_[s].est.L>g&&(g=_[s].est.L,b=s);if(g<.001)break;var w=_[b],v=e.quantize.splitPixels(o,l,w.i0,w.i1,w.est.e,w.est.eMq255),p={i0:w.i0,i1:v,bst:null,est:null,tdst:0,left:null,right:null};p.bst=e.quantize.stats(o,p.i0,p.i1),p.est=e.quantize.estats(p.bst);var m={i0:v,i1:w.i1,bst:null,est:null,tdst:0,left:null,right:null};for(m.bst={R:[],m:[],N:w.bst.N-p.bst.N},s=0;s<16;s++)m.bst.R[s]=w.bst.R[s]-p.bst.R[s];for(s=0;s<4;s++)m.bst.m[s]=w.bst.m[s]-p.bst.m[s];m.est=e.quantize.estats(m.bst),w.left=p,w.right=m,_[b]=p,_.push(m)}_.sort((function(e,t){return t.bst.N-e.bst.N}));for(var k=0;k<n.length;k++){var y=e.quantize.planeDst,x=new Uint8Array(n[k].buffer),z=new Uint32Array(n[k].buffer),A=x.length;for(s=0;s<A;s+=4){for(var S=x[s]*(1/255),E=x[s+1]*(1/255),B=x[s+2]*(1/255),U=x[s+3]*(1/255),R=c;R.left;)R=y(R.est,S,E,B,U)<=0?R.left:R.right;z[s>>2]=R.est.rgba}n[k]=z.buffer}return{bufs:n,plte:_}},e.quantize.getNearest=function(t,r,a,n,i){if(null==t.left)return t.tdst=e.quantize.dist(t.est.q,r,a,n,i),t;var s=e.quantize.planeDst(t.est,r,a,n,i),o=t.left,l=t.right;s>0&&(o=t.right,l=t.left);var h=e.quantize.getNearest(o,r,a,n,i);if(h.tdst<=s*s)return h;var f=e.quantize.getNearest(l,r,a,n,i);return f.tdst<h.tdst?f:h},e.quantize.planeDst=function(e,t,r,a,n){var i=e.e;return i[0]*t+i[1]*r+i[2]*a+i[3]*n-e.eMq},e.quantize.dist=function(e,t,r,a,n){var i=t-e[0],s=r-e[1],o=a-e[2],l=n-e[3];return i*i+s*s+o*o+l*l},e.quantize.splitPixels=function(t,r,a,n,i,s){var o=e.quantize.vecDot;for(n-=4;a<n;){for(;o(t,a,i)<=s;)a+=4;for(;o(t,n,i)>s;)n-=4;if(a>=n)break;var l=r[a>>2];r[a>>2]=r[n>>2],r[n>>2]=l,a+=4,n-=4}for(;o(t,a,i)>s;)a-=4;return a+4},e.quantize.vecDot=function(e,t,r){return e[t]*r[0]+e[t+1]*r[1]+e[t+2]*r[2]+e[t+3]*r[3]},e.quantize.stats=function(e,t,r){for(var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],n=[0,0,0,0],i=r-t>>2,s=t;s<r;s+=4){var o=e[s]*(1/255),l=e[s+1]*(1/255),h=e[s+2]*(1/255),f=e[s+3]*(1/255);n[0]+=o,n[1]+=l,n[2]+=h,n[3]+=f,a[0]+=o*o,a[1]+=o*l,a[2]+=o*h,a[3]+=o*f,a[5]+=l*l,a[6]+=l*h,a[7]+=l*f,a[10]+=h*h,a[11]+=h*f,a[15]+=f*f}return a[4]=a[1],a[8]=a[2],a[12]=a[3],a[9]=a[6],a[13]=a[7],a[14]=a[11],{R:a,m:n,N:i}},e.quantize.estats=function(t){var r=t.R,a=t.m,n=t.N,i=a[0],s=a[1],o=a[2],l=a[3],h=0==n?0:1/n,f=[r[0]-i*i*h,r[1]-i*s*h,r[2]-i*o*h,r[3]-i*l*h,r[4]-s*i*h,r[5]-s*s*h,r[6]-s*o*h,r[7]-s*l*h,r[8]-o*i*h,r[9]-o*s*h,r[10]-o*o*h,r[11]-o*l*h,r[12]-l*i*h,r[13]-l*s*h,r[14]-l*o*h,r[15]-l*l*h],d=f,u=e.M4,c=[.5,.5,.5,.5],_=0,g=0;if(0!=n)for(var b=0;b<10&&(c=u.multVec(d,c),g=Math.sqrt(u.dot(c,c)),c=u.sml(1/g,c),!(Math.abs(g-_)<1e-9));b++)_=g;var w=[i*h,s*h,o*h,l*h],v=u.dot(u.sml(255,w),c),p=w[3]<.001?0:1/w[3];return{Cov:f,q:w,e:c,L:_,eMq255:v,eMq:u.dot(c,w),rgba:(Math.round(255*w[3])<<24|Math.round(255*w[2]*p)<<16|Math.round(255*w[1]*p)<<8|Math.round(255*w[0]*p)<<0)>>>0}},e.M4={multVec:function(e,t){return[e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3],e[4]*t[0]+e[5]*t[1]+e[6]*t[2]+e[7]*t[3],e[8]*t[0]+e[9]*t[1]+e[10]*t[2]+e[11]*t[3],e[12]*t[0]+e[13]*t[1]+e[14]*t[2]+e[15]*t[3]]},dot:function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]},sml:function(e,t){return[e*t[0],e*t[1],e*t[2],e*t[3]]}},e.encode.alphaMul=function(e,t){for(var r=new Uint8Array(e.length),a=e.length>>2,n=0;n<a;n++){var i=n<<2,s=e[i+3];t&&(s=s<128?0:255);var o=s*(1/255);r[i+0]=e[i+0]*o,r[i+1]=e[i+1]*o,r[i+2]=e[i+2]*o,r[i+3]=s}return r}}(e,Y())}();var $=a.exports,V={downloadAsImage:function(e,t,r,a){let n=t.width,i=t.height,s=new Uint8Array(n*i*4);if(e.readRenderTargetPixels(t,0,0,n,i,s),!a)for(var o=3;o<s.length;o+=4)s[o]=255;let l=function(e,t,r){return $.encode([e.buffer],t,r,0)}(function(e,t,r){for(var a=new Uint8Array(t*r*4),n=0;n<t;++n)for(var i=0;i<r;++i){var s=4*(n+i*t),o=4*(n+(r-i-1)*t);a[s]=e[o],a[s+1]=e[o+1],a[s+2]=e[o+2],a[s+3]=e[o+3]}return a}(s,n,i),n,i);!function(e,t,r){let a=document.createElement("a");if(void 0===window)throw"following download won't work, for some reason window is not defined.";let n=new Blob([e],{type:"application/octet-stream"});if(a.href=window.URL.createObjectURL(n),a.download=t+"."+r,document.createEvent){let e=document.createEvent("MouseEvents");e.initEvent("click",!0,!0),a.dispatchEvent(e)}else a.click()}(l,r,"png")},downloadTextureAsImage:function(e,r,a,n){let i=new t.Scene,s=new t.OrthographicCamera(-1,1,1,-1,0,1),o=new t.ShaderMaterial({vertexShader:["varying vec2 vUv;","","void main() {","    vUv = uv;","    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);","}"].join("\n"),fragmentShader:["varying vec2 vUv;","","uniform sampler2D texture;","","void main() {","    gl_FragColor = texture2D(texture, vUv).rgba;","}"].join("\n"),uniforms:{texture:{value:r}}});i.add(new t.Mesh(new t.PlaneGeometry(2,2),o));let l=new t.WebGLRenderTarget(r.image.width,r.image.height);if(parseInt(t.REVISION)>101){let t=e.getRenderTarget();e.setRenderTarget(l),e.render(scene,camera),e.setRenderTarget(t)}else e.render(i,s,l);V.downloadAsImage(e,l,a,n)}};const X="three-js-debug-rendertarget";var W,J;return W=X,J=130,THREE.REVISION!=J&&console.error(`${W} depends on THREE revision ${J}, but current revision is ${THREE.REVISION}.`),function(e,t,r){let a=`${e}: ${t} is duplicated. Your bundle includes ${t} twice. Please repair your bundle.`;try{if(void 0===THREE[t])return void(THREE[t]=r);if(THREE[t]!==r)throw a}catch(t){if(t===a)throw t;console.warn(`${e}: Duplication check unavailable.`+t)}}(X,"DebugRenderTarget",V),e.DebugRenderTarget=V,Object.defineProperty(e,"__esModule",{value:!0}),e}({},THREE);
